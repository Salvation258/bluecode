(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a3145b86"],{"4d61":function(t,e,a){},"5f87":function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return l}));var n=a("852e"),i=a.n(n),s="loginToken";function o(){return i.a.get(s)}function l(t){return i.a.set(s,t)}},"98ba":function(t,e,a){"use strict";a.d(e,"i",(function(){return i})),a.d(e,"k",(function(){return s})),a.d(e,"o",(function(){return o})),a.d(e,"f",(function(){return l})),a.d(e,"e",(function(){return r})),a.d(e,"b",(function(){return c})),a.d(e,"d",(function(){return u})),a.d(e,"a",(function(){return p})),a.d(e,"r",(function(){return d})),a.d(e,"n",(function(){return m})),a.d(e,"s",(function(){return h})),a.d(e,"p",(function(){return v})),a.d(e,"q",(function(){return C})),a.d(e,"m",(function(){return f})),a.d(e,"h",(function(){return g})),a.d(e,"g",(function(){return y})),a.d(e,"c",(function(){return b})),a.d(e,"l",(function(){return w})),a.d(e,"j",(function(){return _}));var n=a("b775");function i(t){return Object(n["a"])({url:"/sys/ddLogin",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/info/teacher/collection/list",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/info/student/collection/list",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/baseBlackWhite/code/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/baseBlackWhite/list",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/appeal/audit",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/baseBlackWhite/removeBlack?id="+t,method:"get"})}function p(t){return Object(n["a"])({url:"/baseBlackWhite/add",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/info/underGrade/uncheck",method:"get",params:t})}function m(t){return Object(n["a"])({url:"/info/student/collection/count",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/info/teacher/uncheck",method:"get",params:t})}function v(t){return Object(n["a"])({url:"/info/teacher/collection/count",method:"get",params:t})}function C(t){return Object(n["a"])({url:"/info/teacher/list",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/info/student/list",method:"get",params:t})}function g(t){return Object(n["a"])({url:"/recover/list",method:"get",params:t})}function y(t){return Object(n["a"])({url:"/recover/queryById?id="+t,method:"get"})}function b(t){return Object(n["a"])({url:"/recover/audit",method:"post",data:t})}function w(t){return Object(n["a"])({url:"/appeal/list",method:"get",params:t})}function _(t){return Object(n["a"])({url:"/appeal/queryById?id="+t,method:"get"})}},a9b0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"containerApp"},[a("div",{staticClass:"containerApp-title"},[a("div",{staticClass:"containerApp-title-panel"},[a("div",{staticClass:"containerApp-title-panel-left",on:{click:t.handleReturn}},[a("van-icon",{attrs:{name:"arrow-left"}})],1),a("div",{staticClass:"containerApp-title-panel-center"},[t._v("补打卡管理")])]),a("div",{staticClass:"containerApp-title-filter"},[a("div",{staticClass:"containerApp-title-filter-item",on:{click:t.handleCompany}},[t._v(" 单位名称"),a("van-icon",{attrs:{name:t.companyShow?"arrow-up":"arrow-down"}})],1),a("div",{staticClass:"containerApp-title-filter-item",on:{click:t.handleName}},[t._v(" 姓名"),a("van-icon",{attrs:{name:t.nameShow?"arrow-up":"arrow-down"}})],1),a("div",{staticClass:"containerApp-title-filter-item",on:{click:t.handleDate}},[t._v(" 日期"),a("van-icon",{attrs:{name:t.dateShow?"arrow-up":"arrow-down"}})],1)])]),a("div",{staticClass:"containerApp-conent"},[t.list.length>0?a("div",{staticClass:"containerApp-conent-items"},t._l(t.list,(function(e,n){return a("div",{key:n,staticClass:"containerApp-conent-items-item"},[a("div",{staticClass:"containerApp-conent-items-item-content"},[a("div",{staticClass:"containerApp-conent-items-item-content-left"},[a("div",{staticClass:"containerApp-conent-items-item-content-left-title"},[t._v(t._s(e.name)+" "),0==e.status?a("span",{staticClass:"wlClass"},[t._v("待审批")]):t._e(),1==e.status?a("span",{staticClass:"blueClass"},[t._v("同意")]):t._e(),2==e.status?a("span",{staticClass:"redClass"},[t._v("驳回")]):t._e()]),a("div",{staticClass:"containerApp-conent-items-item-content-left-item"},[t._v("日期："+t._s(e.appealTime))]),a("div",{staticClass:"containerApp-conent-items-item-content-left-item"},[t._v("手机号码："+t._s(e.mobile))]),a("div",{staticClass:"containerApp-conent-items-item-content-left-item"},[t._v("单位院系："+t._s(e.depName))])]),a("div",{staticClass:"containerApp-conent-items-item-content-right"},[a("span",{staticClass:"checkClass",on:{click:function(a){return t.handleDetail(e)}}},[t._v("审核")])])])])})),0):t._e(),0==t.list.length?a("div",{staticClass:"containerApp-conent-empty",style:{height:t.contentHeight+"px"}},[a("van-icon",{attrs:{name:"smile-o",color:"#666",size:"40"}}),a("div",[t._v("暂无数据")])],1):t._e()]),a("div",{staticClass:"containerApp-bottom"},[a("p",{staticStyle:{"margin-right":"5px"}},[t._v("共"+t._s(t.total)+"条")]),a("span",{on:{click:function(e){return t.handleItemLast()}}},[a("i",{staticClass:"el-icon-arrow-left",staticStyle:{"margin-right":"3px"}}),t._v("上一页")]),a("span",{on:{click:function(e){return t.handleItemNext()}}},[t._v("下一页"),a("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-left":"3px"}})])]),a("van-popup",{style:{height:"250px"},attrs:{position:"bottom"},model:{value:t.companyShow,callback:function(e){t.companyShow=e},expression:"companyShow"}},[a("div",{staticClass:"popupClass"},[a("div",{staticClass:"popupClass-buttons"},[a("van-button",{attrs:{type:"danger",size:"small"},on:{click:t.handleCancle}},[t._v("取消")]),a("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleFilterCompany}},[t._v("确定")])],1),a("div",{staticClass:"popupClass-content"},[a("van-cell-group",{staticStyle:{width:"100%"},attrs:{inset:""}},[a("van-field",{attrs:{label:"单位名称",placeholder:"请输入单位名称"},model:{value:t.queryForm.company,callback:function(e){t.$set(t.queryForm,"company",e)},expression:"queryForm.company"}})],1)],1)])]),a("van-popup",{style:{height:"250px"},attrs:{position:"bottom"},model:{value:t.nameShow,callback:function(e){t.nameShow=e},expression:"nameShow"}},[a("div",{staticClass:"popupClass"},[a("div",{staticClass:"popupClass-buttons"},[a("van-button",{attrs:{type:"danger",size:"small"},on:{click:t.handleCancleName}},[t._v("取消")]),a("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleFilterName}},[t._v("确定")])],1),a("div",{staticClass:"popupClass-content"},[a("van-cell-group",{staticStyle:{width:"100%"},attrs:{inset:""}},[a("van-field",{attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:t.queryForm.name,callback:function(e){t.$set(t.queryForm,"name",e)},expression:"queryForm.name"}})],1)],1)])]),a("van-popup",{model:{value:t.detailShow,callback:function(e){t.detailShow=e},expression:"detailShow"}},[a("div",{staticClass:"popupConent1"},[a("div",{staticClass:"popupConent1-title"},[t._v("申请详情")]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("姓名：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.name))])]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("工号：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.userId))])]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("所在院系：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.depName))])]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("申请日期：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.createTime))])]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("补打卡审核日期：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.appealTime))])]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("当天所在位置：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.currentLocation))])]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("当天体温：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.temperatureToday))])]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("14天有中高风险地旅居史：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.whetherHighRisk))])]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("14天与中高风险地人接触过：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.whetherMeetRisk))])]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("是否存在(发烧、乏力、干咳等)症状：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.whetherSymptom))])]),a("div",{staticClass:"popupConent1-item"},[a("div",{staticClass:"popupConent1-item-title"},[t._v("杭州健康码状态：")]),a("div",{staticClass:"popupConent1-item-text"},[t._v(t._s(t.detail.healthCode))])]),0==t.detail.status?a("div",{staticClass:"popupConent1-buttons"},[a("span",{on:{click:t.handleReject}},[t._v("驳回")]),a("span",{on:{click:t.handleOk}},[t._v("同意")])]):t._e()])]),a("van-calendar",{attrs:{"min-date":t.minDate},on:{confirm:t.handleFilterDate},model:{value:t.dateShow,callback:function(e){t.dateShow=e},expression:"dateShow"}})],1)},i=[],s=(a("e7e5"),a("d399")),o=(a("e17f"),a("2241")),l=(a("99af"),a("98ba")),r={data:function(){return{minDate:null,appHeight:document.documentElement.clientHeight,contentHeight:document.documentElement.clientHeight-200,companyShow:!1,nameShow:!1,dateShow:!1,detailShow:!1,queryForm:{company:null,date:null,name:null,pageNo:1,pageSize:10},list:[],total:0,current:0,pages:0,detail:{id:null,name:null,userId:null,mobile:null,depName:null,appealTime:null,createTime:null,currentLocation:null,healthCode:null,temperatureToday:null,whetherHighRisk:null,whetherMeetRisk:null,whetherSymptom:null}}},created:function(){var t=this,e=new Date((new Date).setMonth((new Date).getMonth()-24)),a=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();n<10&&(n="0"+n),i<10&&(i="0"+i),t.minDate=new Date(a+"-"+n+"-"+i),t.getList()},methods:{handleReject:function(){var t=this;o["a"].confirm({title:"消息提示",message:"确定驳回该条记录吗？"}).then((function(){Object(l["b"])({id:t.detail.id,type:1}).then((function(e){200==e.code?(t.$Notify2({type:"success",message:e.message}),t.getList()):t.$Notify2({type:"danger",message:e.message}),t.visible=!1}))}))},handleOk:function(){var t=this;o["a"].confirm({title:"消息提示",message:"确定同意该条记录吗？"}).then((function(){Object(l["b"])({id:t.detail.id,type:0}).then((function(e){200==e.code?(t.$Notify2({type:"success",message:e.message}),t.getList()):t.$Notify2({type:"danger",message:e.message}),t.visible=!1}))}))},handleDetail:function(t){var e=this;Object(l["j"])(t.id).then((function(a){a.result&&(e.detail=a.result,e.detail.appealTime=t.appealTime,a.result.data&&a.result.data.length>0&&(e.detail.createTime=a.result.data[0].createTime,e.$set(e.detail,"currentLocation",a.result.data[0].currentLocation),1==a.result.data[0].healthCode?e.$set(e.detail,"healthCode",'今日是"红码"'):2==a.result.data[0].healthCode?e.$set(e.detail,"healthCode",'今日是"黄码"'):3==a.result.data[0].healthCode?e.$set(e.detail,"healthCode",'今日是"绿码"'):4==a.result.data[0].healthCode&&e.$set(e.detail,"healthCode",'今日是"橙码"'),e.$set(e.detail,"temperatureToday",a.result.data[0].temperatureToday),1==a.result.data[0].whetherHighRisk?e.$set(e.detail,"whetherHighRisk","是"):2==a.result.data[0].whetherHighRisk&&e.$set(e.detail,"whetherHighRisk","否"),1==a.result.data[0].whetherMeetRisk?e.$set(e.detail,"whetherMeetRisk","是"):2==a.result.data[0].whetherHighRisk&&e.$set(e.detail,"whetherMeetRisk","否"),1==a.result.data[0].whetherSymptom?e.$set(e.detail,"whetherSymptom","是"):2==a.result.data[0].whetherSymptom&&e.$set(e.detail,"whetherSymptom","否")),e.$set(e.detail,"status",t.status)),e.detailShow=!0}))},handleItemLast:function(){this.current>1&&this.queryForm.pageNo>1&&(this.queryForm.pageNo=this.queryForm.pageNo-1,this.getList())},handleItemNext:function(){this.queryForm.pageNo<this.pages&&(this.queryForm.pageNo=this.queryForm.pageNo+1,this.getList())},getList:function(){var t=this;t.list=[],t.total=0,s["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),Object(l["l"])(t.queryForm).then((function(e){e.result&&(t.list=e.result.records,t.total=e.result.total,t.pages=e.result.pages,t.current=e.result.current),s["a"].clear()}))},handleCheck:function(){this.detailShow=!0},handleCancle:function(){this.companyShow=!1},handleCancleName:function(){this.nameShow=!1},handleFilterDate:function(t){var e=this;e.dateShow=!1,e.queryForm.pageNo=1,e.queryForm.date=e.formatDate(t),e.getList()},formatDate:function(t){var e=t.getFullYear(),a=t.getMonth()+1;a<10&&(a="0"+a);var n=t.getDate();return n<10&&(n="0"+n),"".concat(e,"-").concat(a,"-").concat(n)},handleFilterName:function(){var t=this;t.nameShow=!1,t.queryForm.pageNo=1,this.getList()},handleFilterCompany:function(){var t=this;t.companyShow=!1,t.queryForm.pageNo=1,this.getList()},handleCompany:function(){this.companyShow=!0},handleName:function(){this.nameShow=!0},handleDate:function(){this.dateShow=!0},handleReturn:function(){this.$router.back()}}},c=r,u=(a("d360"),a("2877")),p=Object(u["a"])(c,n,i,!1,null,"12b444e2",null);e["default"]=p.exports},b775:function(t,e,a){"use strict";a("e7e5");var n=a("d399"),i=(a("d3b7"),a("bc3a")),s=a.n(i),o=a("4360"),l=a("f121"),r=a("5f87"),c=s.a.create({baseURL:l["baseApi"],timeout:4e4});c.interceptors.request.use((function(t){return t.hideloading||n["a"].loading({forbidClick:!0}),Object(r["a"])()&&(t.headers["X-Access-Token"]=Object(r["a"])()),t}),(function(t){return Promise.reject(t)})),c.interceptors.response.use((function(t){n["a"].clear();var e=t.data;return e.status&&200!==e.status?(401===e.status&&o["a"].dispatch("FedLogOut").then((function(){location.reload()})),Promise.reject(e||"error")):Promise.resolve(e)}),(function(t){return n["a"].clear(),Promise.reject(t)})),e["a"]=c},d360:function(t,e,a){"use strict";a("4d61")}}]);