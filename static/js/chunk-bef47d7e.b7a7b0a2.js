(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bef47d7e"],{"5f87":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var a=n("852e"),o=n.n(a),i="loginToken";function s(){return o.a.get(i)}function c(t){return o.a.set(i,t)}},"8c94":function(t,e,n){},"98ba":function(t,e,n){"use strict";n.d(e,"i",(function(){return o})),n.d(e,"k",(function(){return i})),n.d(e,"o",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"r",(function(){return p})),n.d(e,"n",(function(){return m})),n.d(e,"s",(function(){return h})),n.d(e,"p",(function(){return v})),n.d(e,"q",(function(){return f})),n.d(e,"m",(function(){return b})),n.d(e,"h",(function(){return C})),n.d(e,"g",(function(){return g})),n.d(e,"c",(function(){return y})),n.d(e,"l",(function(){return w})),n.d(e,"j",(function(){return _}));var a=n("b775");function o(t){return Object(a["a"])({url:"/sys/ddLogin",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/info/teacher/collection/list",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/info/student/collection/list",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/baseBlackWhite/code/list",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/baseBlackWhite/list",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/appeal/audit",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/baseBlackWhite/removeBlack?id="+t,method:"get"})}function d(t){return Object(a["a"])({url:"/baseBlackWhite/add",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/info/underGrade/uncheck",method:"get",params:t})}function m(t){return Object(a["a"])({url:"/info/student/collection/count",method:"get",params:t})}function h(t){return Object(a["a"])({url:"/info/teacher/uncheck",method:"get",params:t})}function v(t){return Object(a["a"])({url:"/info/teacher/collection/count",method:"get",params:t})}function f(t){return Object(a["a"])({url:"/info/teacher/list",method:"get",params:t})}function b(t){return Object(a["a"])({url:"/info/student/list",method:"get",params:t})}function C(t){return Object(a["a"])({url:"/recover/list",method:"get",params:t})}function g(t){return Object(a["a"])({url:"/recover/queryById?id="+t,method:"get"})}function y(t){return Object(a["a"])({url:"/recover/audit",method:"post",data:t})}function w(t){return Object(a["a"])({url:"/appeal/list",method:"get",params:t})}function _(t){return Object(a["a"])({url:"/appeal/queryById?id="+t,method:"get"})}},b775:function(t,e,n){"use strict";n("e7e5");var a=n("d399"),o=(n("d3b7"),n("bc3a")),i=n.n(o),s=n("4360"),c=n("f121"),r=n("5f87"),l=i.a.create({baseURL:c["baseApi"],timeout:4e4});l.interceptors.request.use((function(t){return t.hideloading||a["a"].loading({forbidClick:!0}),Object(r["a"])()&&(t.headers["X-Access-Token"]=Object(r["a"])()),t}),(function(t){return Promise.reject(t)})),l.interceptors.response.use((function(t){a["a"].clear();var e=t.data;return e.status&&200!==e.status?(401===e.status&&s["a"].dispatch("FedLogOut").then((function(){location.reload()})),Promise.reject(e||"error")):Promise.resolve(e)}),(function(t){return a["a"].clear(),Promise.reject(t)})),e["a"]=l},ce87:function(t,e,n){"use strict";n("8c94")},fe08:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"containerApp"},[n("div",{staticClass:"containerApp-title"},[n("div",{staticClass:"containerApp-title-panel"},[n("div",{staticClass:"containerApp-title-panel-left",on:{click:t.handleReturn}},[n("van-icon",{attrs:{name:"arrow-left"}})],1),n("div",{staticClass:"containerApp-title-panel-center"},[t._v("教职工填报汇总")])]),n("div",{staticClass:"containerApp-title-filter"},[n("div",{staticClass:"containerApp-title-filter-item",on:{click:t.handleCompany}},[t._v(" 填报日期"),n("van-icon",{attrs:{name:t.companyShow?"arrow-up":"arrow-down"}})],1),n("div",{staticClass:"containerApp-title-filter-item",on:{click:t.handleName}},[t._v(" 单位名称"),n("van-icon",{attrs:{name:t.nameShow?"arrow-up":"arrow-down"}})],1),n("div",{staticClass:"containerApp-title-filter-item"})])]),n("div",{staticClass:"containerApp-conent"},[t.list.length>0?n("div",{staticClass:"containerApp-conent-items"},t._l(t.list,(function(e,a){return n("div",{key:a,staticClass:"containerApp-conent-items-item"},[n("div",{staticClass:"containerApp-conent-items-item-date"},[n("div",{staticClass:"containerApp-conent-items-item-date-title"},[t._v("日期：")]),n("div",{staticClass:"containerApp-conent-items-item-date-txt"},[t._v(t._s(e.createTime))])]),n("div",{staticClass:"containerApp-conent-items-item-nodes"},[n("div",{staticClass:"containerApp-conent-items-item-nodes-node borderLeft borderBottom",staticStyle:{width:"40%"}},[n("div",{staticClass:"containerApp-conent-items-item-nodes-node-top"},[t._v("单位名称")]),n("div",{staticClass:"containerApp-conent-items-item-nodes-node-bottom"},[t._v(t._s(e.company))])]),n("div",{staticClass:"containerApp-conent-items-item-nodes-node borderLeft borderBottom",staticStyle:{width:"30%"}},[n("div",{staticClass:"containerApp-conent-items-item-nodes-node-top"},[t._v("应报总人数")]),n("div",{staticClass:"containerApp-conent-items-item-nodes-node-bottom"},[t._v(t._s(e.needNum))])]),n("div",{staticClass:"containerApp-conent-items-item-nodes-node borderBottom",staticStyle:{width:"30%"}},[n("div",{staticClass:"containerApp-conent-items-item-nodes-node-top"},[t._v("已报人数")]),n("div",{staticClass:"containerApp-conent-items-item-nodes-node-bottom"},[t._v(t._s(e.successNum))])])]),n("div",{staticClass:"containerApp-conent-items-item-nodes"},[n("div",{staticClass:"containerApp-conent-items-item-nodes-node borderLeft borderBottom",staticStyle:{width:"40%"}},[n("div",{staticClass:"containerApp-conent-items-item-nodes-node-top"},[t._v("未报人数")]),n("div",{staticClass:"containerApp-conent-items-item-nodes-node-bottom heightClass",on:{click:function(n){return t.getUnCheckTeacher(e)}}},[t._v(t._s(e.lostNum))])]),n("div",{staticClass:"containerApp-conent-items-item-nodes-node borderLeft borderBottom",staticStyle:{width:"30%"}},[n("div",{staticClass:"containerApp-conent-items-item-nodes-node-top"},[t._v("申报率")]),n("div",{staticClass:"containerApp-conent-items-item-nodes-node-bottom"},[t._v(t._s(e.rate))])])])])})),0):t._e(),0==t.list.length?n("div",{staticClass:"containerApp-conent-empty",style:{height:t.contentHeight+"px"}},[n("van-icon",{attrs:{name:"smile-o",color:"#666",size:"40"}}),n("div",[t._v("暂无数据")])],1):t._e()]),n("div",{staticClass:"containerApp-bottom",style:{height:t.bottomHeight+"px"}},[n("span",{on:{click:t.handleCount}},[t._v("合计"),n("van-icon",{staticStyle:{"margin-left":"10px"},attrs:{name:50==t.bottomHeight?"arrow":"arrow-up"}})],1),t.bottomHeight>50?n("div",{staticClass:"containerApp-bottom-panel"},[n("div",{staticClass:"containerApp-bottom-panel-item borderLeft borderBottom"},[n("div",{staticClass:"containerApp-bottom-panel-item-text"},[t._v("应报总人数")]),n("div",{staticClass:"containerApp-bottom-panel-item-value"},[t._v(t._s(t.countDetail.needNum))])]),n("div",{staticClass:"containerApp-bottom-panel-item borderLeft borderBottom"},[n("div",{staticClass:"containerApp-bottom-panel-item-text"},[t._v("已报人数")]),n("div",{staticClass:"containerApp-bottom-panel-item-value"},[t._v(t._s(t.countDetail.successNum))])]),n("div",{staticClass:"containerApp-bottom-panel-item borderBottom"},[n("div",{staticClass:"containerApp-bottom-panel-item-text"},[t._v("未报人数")]),n("div",{staticClass:"containerApp-bottom-panel-item-value"},[t._v(t._s(t.countDetail.lostNum))])]),n("div",{staticClass:"containerApp-bottom-panel-item borderLeft"},[n("div",{staticClass:"containerApp-bottom-panel-item-text"},[t._v("申报率")]),n("div",{staticClass:"containerApp-bottom-panel-item-value"},[t._v(t._s(t.countDetail.rate))])])]):t._e()]),n("van-popup",{attrs:{position:"bottom"},model:{value:t.companyShow,callback:function(e){t.companyShow=e},expression:"companyShow"}},[n("van-calendar",{attrs:{"min-date":t.minDate},on:{confirm:t.onDateConfirm},model:{value:t.companyShow,callback:function(e){t.companyShow=e},expression:"companyShow"}})],1),n("van-popup",{style:{height:"250px"},attrs:{position:"bottom"},model:{value:t.nameShow,callback:function(e){t.nameShow=e},expression:"nameShow"}},[n("div",{staticClass:"popupClass"},[n("div",{staticClass:"popupClass-buttons"},[n("van-button",{attrs:{type:"danger",size:"small"},on:{click:t.handleCancleName}},[t._v("取消")]),n("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleFilterName}},[t._v("确定")])],1),n("div",{staticClass:"popupClass-content"},[n("van-cell-group",{staticStyle:{width:"100%"},attrs:{inset:""}},[n("van-field",{attrs:{label:"单位名称",placeholder:"请输入单位名称"},model:{value:t.queryForm.name,callback:function(e){t.$set(t.queryForm,"name",e)},expression:"queryForm.name"}})],1)],1)])]),n("van-popup",{style:{height:"580px"},attrs:{position:"bottom"},model:{value:t.totalShow,callback:function(e){t.totalShow=e},expression:"totalShow"}},[n("div",{staticClass:"popupTotalClass1"},[n("div",{staticClass:"popupTotalClass1-content",staticStyle:{"border-bottom":"1px solid #666","font-weight":"bold"}},[n("div",{staticClass:"popupTotalClass1-content-item",staticStyle:{width:"40%"}},[n("div",[t._v("单位/院系")])]),n("div",{staticClass:"popupTotalClass1-content-item",staticStyle:{width:"30%"}},[n("div",[t._v("工号")])]),n("div",{staticClass:"popupTotalClass1-content-item",staticStyle:{width:"30%"}},[n("div",[t._v("姓名")])])]),t._l(t.datas,(function(e,a){return n("div",{key:a,staticClass:"popupTotalClass1-content",staticStyle:{"border-bottom":"1px solid #999","font-weight":"400"}},[n("div",{staticClass:"popupTotalClass1-content-item",staticStyle:{width:"40%"}},[n("span",[t._v(t._s(e.company))])]),n("div",{staticClass:"popupTotalClass1-content-item",staticStyle:{width:"30%"}},[n("span",[t._v(t._s(e.workNo))])]),n("div",{staticClass:"popupTotalClass1-content-item",staticStyle:{width:"30%"}},[n("span",[t._v(t._s(e.username))])])])})),n("div",{staticClass:"popupTotalClass1-bottom"},[n("p",{staticStyle:{"margin-right":"5px"}},[t._v("共"+t._s(t.total)+"条")]),n("span",{on:{click:function(e){return t.handleItemLast()}}},[n("i",{staticClass:"el-icon-arrow-left",staticStyle:{"margin-right":"3px"}}),t._v("上一页")]),n("span",{on:{click:function(e){return t.handleItemNext()}}},[t._v("下一页"),n("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-left":"3px"}})])])],2)])],1)},o=[],i=(n("e7e5"),n("d399")),s=(n("99af"),n("b0c0"),n("98ba")),c={data:function(){return{appHeight:document.documentElement.clientHeight,contentHeight:document.documentElement.clientHeight-200,companyShow:!1,nameShow:!1,totalShow:!1,queryForm:{date:null,name:null,pageNo:1,pageSize:100},countDetail:{lostNum:0,needNum:0,rate:0,successNum:0},bottomHeight:50,minDate:null,list:[],datas:[],total:0,current:0,pages:0,currentObj:null,query2:{companyId:null,date:null,pageNo:1,pageSize:10}}},components:{},created:function(){var t=new Date((new Date).setMonth((new Date).getMonth()-24)),e=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();n<10&&(n="0"+n),a<10&&(a="0"+a),this.minDate=new Date(e+"-"+n+"-"+a),this.queryForm.date=this.formatDate(new Date),this.getList()},methods:{handleCount:function(){50==this.bottomHeight?this.bottomHeight=160:this.bottomHeight=50},handleItemLast:function(){this.current>1&&(this.query2.pageNo=this.query2.pageNo-1,this.getList2())},handleItemNext:function(){this.query2.pageNo<this.pages&&(this.query2.pageNo=this.query2.pageNo+1,this.getList2())},getList2:function(){var t=this;Object(s["s"])(t.query2).then((function(e){e.result&&(t.datas=e.result.records,t.total=e.result.total,t.pages=e.result.pages,t.current=e.result.current)}))},getUnCheckTeacher:function(t){var e=this;e.totalShow=!0,e.currentObj=t,e.query2={companyId:t.companyId,date:t.createTime,pageNo:1,pageSize:10},e.getList2()},onDateConfirm:function(t){this.companyShow=!1,this.queryForm.date=this.formatDate(t),this.getList()},formatDate:function(t){var e=t.getFullYear(),n=t.getMonth()+1;n<10&&(n="0"+n);var a=t.getDate();return a<10&&(a="0"+a),"".concat(e,"-").concat(n,"-").concat(a)},getList:function(){var t=this;i["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),Object(s["k"])(t.queryForm).then((function(e){e.result&&(t.list=e.result.records),Object(s["p"])({date:t.queryForm.date,companyId:t.queryForm.name}).then((function(e){e.result&&(t.countDetail={lostNum:e.result.lostNum,needNum:e.result.needNum,rate:e.result.rate,successNum:e.result.successNum})})),i["a"].clear()}))},handleTotal:function(t){this.totalShow=1==t},handleCancle:function(){this.companyShow=!1},handleCancleName:function(){this.nameShow=!1},handleFilterName:function(){var t=this;t.nameShow=!1,t.getList()},handleFilterCompany:function(){var t=this;t.companyShow=!1},handleCompany:function(){this.companyShow=!0},handleName:function(){this.nameShow=!0},handleReturn:function(){this.$router.back()}}},r=c,l=(n("ce87"),n("2877")),u=Object(l["a"])(r,a,o,!1,null,"0850ea16",null);e["default"]=u.exports}}]);