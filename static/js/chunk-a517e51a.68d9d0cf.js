(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a517e51a"],{"27c8":function(t,e,n){"use strict";n("6be0")},"32bd":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"containerApp"},[n("div",{staticClass:"containerApp-title"},[n("div",{staticClass:"containerApp-title-panel"},[n("div",{staticClass:"containerApp-title-panel-left",on:{click:t.handleReturn}},[n("van-icon",{attrs:{name:"arrow-left"}})],1),n("div",{staticClass:"containerApp-title-panel-center"},[t._v("申诉管理")])]),n("div",{staticClass:"containerApp-title-filter"},[n("div",{staticClass:"containerApp-title-filter-item",on:{click:t.handleCompany}},[t._v(" 单位名称"),n("van-icon",{attrs:{name:t.companyShow?"arrow-up":"arrow-down"}})],1),n("div",{staticClass:"containerApp-title-filter-item",on:{click:t.handleName}},[t._v(" 姓名"),n("van-icon",{attrs:{name:t.nameShow?"arrow-up":"arrow-down"}})],1),n("div",{staticClass:"containerApp-title-filter-item",on:{click:t.handleDate}},[t._v(" 日期"),n("van-icon",{attrs:{name:t.dateShow?"arrow-up":"arrow-down"}})],1)])]),n("div",{staticClass:"containerApp-conent"},[t.list.length>0?n("div",{staticClass:"containerApp-conent-items"},t._l(t.list,(function(e,a){return n("div",{key:a,staticClass:"containerApp-conent-items-item"},[n("div",{staticClass:"containerApp-conent-items-item-content"},[n("div",{staticClass:"containerApp-conent-items-item-content-left"},[n("div",{staticClass:"containerApp-conent-items-item-content-left-title"},[t._v(t._s(e.name)+" "),0==e.status?n("span",{staticClass:"hsClass"},[t._v("待审批")]):t._e(),1==e.status?n("span",{staticClass:"blueClass"},[t._v("同意")]):t._e(),2==e.status?n("span",{staticClass:"redClass"},[t._v("驳回")]):t._e()]),n("div",{staticClass:"containerApp-conent-items-item-content-left-item"},[t._v("日期："+t._s(e.applyTime))]),n("div",{staticClass:"containerApp-conent-items-item-content-left-item"},[t._v("手机号码："+t._s(e.mobile))]),n("div",{staticClass:"containerApp-conent-items-item-content-left-item"},[t._v("单位院系："+t._s(e.depName))])]),n("div",{staticClass:"containerApp-conent-items-item-content-right"},[n("span",{staticClass:"checkClass",on:{click:function(n){return t.handleCheck(e)}}},[t._v("审核")])])])])})),0):t._e(),0==t.list.length?n("div",{staticClass:"containerApp-conent-empty",style:{height:t.contentHeight+"px"}},[n("van-icon",{attrs:{name:"smile-o",color:"#666",size:"40"}}),n("div",[t._v("暂无数据")])],1):t._e()]),n("div",{staticClass:"containerApp-bottom"},[n("p",{staticStyle:{"margin-right":"5px"}},[t._v("共"+t._s(t.total)+"条")]),n("span",{on:{click:function(e){return t.handleItemLast()}}},[n("i",{staticClass:"el-icon-arrow-left",staticStyle:{"margin-right":"3px"}}),t._v("上一页")]),n("span",{on:{click:function(e){return t.handleItemNext()}}},[t._v("下一页"),n("i",{staticClass:"el-icon-arrow-right",staticStyle:{"margin-left":"3px"}})])]),n("van-popup",{style:{height:"250px"},attrs:{position:"bottom"},model:{value:t.companyShow,callback:function(e){t.companyShow=e},expression:"companyShow"}},[n("div",{staticClass:"popupClass"},[n("div",{staticClass:"popupClass-buttons"},[n("van-button",{attrs:{type:"danger",size:"small"},on:{click:t.handleCancle}},[t._v("取消")]),n("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleFilterCompany}},[t._v("确定")])],1),n("div",{staticClass:"popupClass-content"},[n("van-cell-group",{staticStyle:{width:"100%"},attrs:{inset:""}},[n("van-field",{attrs:{label:"单位名称",placeholder:"请输入单位名称"},model:{value:t.queryForm.company,callback:function(e){t.$set(t.queryForm,"company",e)},expression:"queryForm.company"}})],1)],1)])]),n("van-popup",{style:{height:"250px"},attrs:{position:"bottom"},model:{value:t.nameShow,callback:function(e){t.nameShow=e},expression:"nameShow"}},[n("div",{staticClass:"popupClass"},[n("div",{staticClass:"popupClass-buttons"},[n("van-button",{attrs:{type:"danger",size:"small"},on:{click:t.handleCancleName}},[t._v("取消")]),n("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleFilterName}},[t._v("确定")])],1),n("div",{staticClass:"popupClass-content"},[n("van-cell-group",{staticStyle:{width:"100%"},attrs:{inset:""}},[n("van-field",{attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:t.queryForm.name,callback:function(e){t.$set(t.queryForm,"name",e)},expression:"queryForm.name"}})],1)],1)])]),n("van-popup",{attrs:{round:""},model:{value:t.detailShow,callback:function(e){t.detailShow=e},expression:"detailShow"}},[n("div",{staticClass:"popupConent"},[n("div",{staticClass:"popupConent-title"},[t._v("申诉详情")]),n("div",{staticClass:"popupConent-item"},[n("div",{staticClass:"popupConent-item-title"},[t._v("姓名：")]),n("div",{staticClass:"popupConent-item-text"},[t._v(t._s(t.detail.name))])]),n("div",{staticClass:"popupConent-item"},[n("div",{staticClass:"popupConent-item-title"},[t._v("工号：")]),n("div",{staticClass:"popupConent-item-text"},[t._v(t._s(t.detail.userId))])]),n("div",{staticClass:"popupConent-item"},[n("div",{staticClass:"popupConent-item-title"},[t._v("所在院系：")]),n("div",{staticClass:"popupConent-item-text"},[t._v(t._s(t.detail.depName))])]),n("div",{staticClass:"popupConent-item"},[n("div",{staticClass:"popupConent-item-title"},[t._v("申诉时间：")]),n("div",{staticClass:"popupConent-item-text"},[t._v(t._s(t.detail.applyTime))])]),n("div",{staticClass:"popupConent-item"},[n("div",{staticClass:"popupConent-item-title"},[t._v("情况说明：")]),n("div",{staticClass:"popupConent-item-text"},[t._v(t._s(t.detail.describeInfo))])]),n("div",{staticClass:"popupConent-item2"},[n("div",{staticClass:"popupConent-item2-title"}),n("div",{staticClass:"popupConent-item2-images"},[n("div",{staticClass:"popupConent-item2-images-item"},[n("img",{attrs:{src:t.detail.pathOne},on:{click:function(e){return t.handleImageShow(t.detail.pathOne)}}})]),n("div",{staticClass:"popupConent-item2-images-item"},[n("img",{attrs:{src:t.detail.pathTwo},on:{click:function(e){return t.handleImageShow(t.detail.pathTwo)}}})])])]),0==t.detail.status?n("div",{staticClass:"popupConent-buttons"},[n("span",{on:{click:t.handleReject}},[t._v("驳回")]),n("span",{on:{click:t.handleOk}},[t._v("同意")])]):t._e()])]),n("van-popup",{style:{height:"90%"},attrs:{position:"bottom",round:""},model:{value:t.photoShow,callback:function(e){t.photoShow=e},expression:"photoShow"}},[n("div",{staticClass:"photoShowApp"},[n("img",{attrs:{src:t.selectImg}})])]),n("van-calendar",{attrs:{"min-date":t.minDate},on:{confirm:t.handleFilterDate},model:{value:t.dateShow,callback:function(e){t.dateShow=e},expression:"dateShow"}})],1)},i=[],o=(n("e7e5"),n("d399")),s=(n("e17f"),n("2241")),c=(n("99af"),n("98ba")),r={data:function(){return{minDate:null,appHeight:document.documentElement.clientHeight,contentHeight:document.documentElement.clientHeight-200,companyShow:!1,nameShow:!1,dateShow:!1,detailShow:!1,photoShow:!1,queryForm:{company:null,date:null,name:null,pageNo:1,pageSize:10},list:[],detail:{id:null,name:null,userId:null,applyTime:null,depName:null,pathOne:null,pathTwo:null,describeInfo:null},selectImg:null,total:0,current:0,pages:0}},components:{},created:function(){var t=this,e=new Date((new Date).setMonth((new Date).getMonth()-24)),n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();a<10&&(a="0"+a),i<10&&(i="0"+i),t.minDate=new Date(n+"-"+a+"-"+i),t.getList()},methods:{handleImageShow:function(t){this.selectImg=t,this.photoShow=!0},handleItemLast:function(){this.current>1&&this.queryForm.pageNo>1&&(this.queryForm.pageNo=this.queryForm.pageNo-1,this.getList())},handleItemNext:function(){this.queryForm.pageNo<this.pages&&(this.queryForm.pageNo=this.queryForm.pageNo+1,this.getList())},handleReject:function(){var t=this;s["a"].confirm({title:"消息提示",message:"确定驳回该条记录吗？"}).then((function(){Object(c["c"])({id:t.detail.id,type:1}).then((function(e){200==e.code?(t.$Notify2({type:"success",message:e.message}),t.getList()):t.$Notify2({type:"danger",message:e.message}),t.detailShow=!1}))}))},handleOk:function(){var t=this;s["a"].confirm({title:"消息提示",message:"确定同意该条记录吗？"}).then((function(){Object(c["c"])({id:t.detail.id,type:0}).then((function(e){200==e.code?(t.$Notify2({type:"success",message:e.message}),t.getList()):t.$Notify2({type:"danger",message:e.message}),t.detailShow=!1}))}))},getList:function(){var t=this;t.list=[],t.total=0,o["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),Object(c["h"])(t.queryForm).then((function(e){e.result&&(t.list=e.result.records,t.total=e.result.total,t.current=e.result.current,t.pages=e.result.pages),o["a"].clear()}))},handleCheck:function(t){var e=this;Object(c["g"])(t.id).then((function(n){n.result&&(e.detail=n.result,e.$set(e.detail,"status",t.status))})),e.detailShow=!0},handleCancle:function(){this.companyShow=!1},handleCancleName:function(){this.nameShow=!1},handleFilterDate:function(t){var e=this;e.dateShow=!1,e.queryForm.pageNo=1,e.queryForm.date=e.formatDate(t),e.getList()},formatDate:function(t){var e=t.getFullYear(),n=t.getMonth()+1;n<10&&(n="0"+n);var a=t.getDate();return a<10&&(a="0"+a),"".concat(e,"-").concat(n,"-").concat(a)},handleFilterName:function(){var t=this;t.nameShow=!1,t.queryForm.pageNo=1,t.getList()},handleFilterCompany:function(){var t=this;t.companyShow=!1,t.queryForm.pageNo=1,t.getList()},handleCompany:function(){this.companyShow=!0,this.queryForm.pageNo=1},handleName:function(){this.nameShow=!0,this.queryForm.pageNo=1},handleDate:function(){this.dateShow=!0,this.queryForm.pageNo=1},handleReturn:function(){this.$router.back()}}},l=r,u=(n("27c8"),n("2877")),p=Object(u["a"])(l,a,i,!1,null,"3135c14a",null);e["default"]=p.exports},"5f87":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var a=n("852e"),i=n.n(a),o="loginToken";function s(){return i.a.get(o)}function c(t){return i.a.set(o,t)}},"6be0":function(t,e,n){},"98ba":function(t,e,n){"use strict";n.d(e,"i",(function(){return i})),n.d(e,"k",(function(){return o})),n.d(e,"o",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return p})),n.d(e,"r",(function(){return d})),n.d(e,"n",(function(){return m})),n.d(e,"s",(function(){return h})),n.d(e,"p",(function(){return f})),n.d(e,"q",(function(){return v})),n.d(e,"m",(function(){return g})),n.d(e,"h",(function(){return C})),n.d(e,"g",(function(){return b})),n.d(e,"c",(function(){return y})),n.d(e,"l",(function(){return w})),n.d(e,"j",(function(){return _}));var a=n("b775");function i(t){return Object(a["a"])({url:"/sys/ddLogin",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/info/teacher/collection/list",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/info/student/collection/list",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/baseBlackWhite/code/list",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/baseBlackWhite/list",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/appeal/audit",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/baseBlackWhite/removeBlack?id="+t,method:"get"})}function p(t){return Object(a["a"])({url:"/baseBlackWhite/add",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/info/underGrade/uncheck",method:"get",params:t})}function m(t){return Object(a["a"])({url:"/info/student/collection/count",method:"get",params:t})}function h(t){return Object(a["a"])({url:"/info/teacher/uncheck",method:"get",params:t})}function f(t){return Object(a["a"])({url:"/info/teacher/collection/count",method:"get",params:t})}function v(t){return Object(a["a"])({url:"/info/teacher/list",method:"get",params:t})}function g(t){return Object(a["a"])({url:"/info/student/list",method:"get",params:t})}function C(t){return Object(a["a"])({url:"/recover/list",method:"get",params:t})}function b(t){return Object(a["a"])({url:"/recover/queryById?id="+t,method:"get"})}function y(t){return Object(a["a"])({url:"/recover/audit",method:"post",data:t})}function w(t){return Object(a["a"])({url:"/appeal/list",method:"get",params:t})}function _(t){return Object(a["a"])({url:"/appeal/queryById?id="+t,method:"get"})}},b775:function(t,e,n){"use strict";n("e7e5");var a=n("d399"),i=(n("d3b7"),n("bc3a")),o=n.n(i),s=n("4360"),c=n("f121"),r=n("5f87"),l=o.a.create({baseURL:c["baseApi"],timeout:4e4});l.interceptors.request.use((function(t){return t.hideloading||a["a"].loading({forbidClick:!0}),Object(r["a"])()&&(t.headers["X-Access-Token"]=Object(r["a"])()),t}),(function(t){return Promise.reject(t)})),l.interceptors.response.use((function(t){a["a"].clear();var e=t.data;return e.status&&200!==e.status?(401===e.status&&s["a"].dispatch("FedLogOut").then((function(){location.reload()})),Promise.reject(e||"error")):Promise.resolve(e)}),(function(t){return a["a"].clear(),Promise.reject(t)})),e["a"]=l}}]);